<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vape.â‚¿ox</title>
    <style>
        body, html {
            margin: 0;
            overflow: hidden;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #fff;
        }
        #container {
            width: 100%;
            height: 100%;
        }
        .footer-image {
            position: absolute;
            bottom: 20px;
            width: 30px;
            height: 30px;
            z-index: 10;
        }
        #footer-image { left: 20px; }
        #second-footer-image { left: 60px; }
        #third-footer-image { left: 100px; }
        #fourth-footer-image { left: 140px; }
        #fifth-footer-image { left: 180px; }
    </style>
</head>
<body>
    <a id="footer-link" href="tel:+447783485026" target="_blank">
        <img id="footer-image" class="footer-image" src="https://i.imgur.com/M7kZY08.jpeg" alt="Footer Image 1">
    </a>
    <a id="second-footer-link" href="mailto:reon@vape.box" target="_blank">
        <img id="second-footer-image" class="footer-image" src="https://i.imgur.com/zPRCBm8.jpeg" alt="Footer Image 2">
    </a>
    <a id="third-footer-link" href="https://x.com/prettyulgy?t=gFx7-kYNxXR9Bkwj1o1pLg&s=09" target="_blank">
        <img id="third-footer-image" class="footer-image" src="https://i.imgur.com/HF0wf4y.jpeg" alt="Footer Image 3">
    </a>
    <a id="fourth-footer-link" href="https://www.linkedin.com/in/reon-franklyn-7a5733133" target="_blank">
        <img id="fourth-footer-image" class="footer-image" src="https://i.imgur.com/gVYNsej.jpeg" alt="Footer Image 4">
    </a>
    <a id="fifth-footer-link" href="https://opensea.io/vape.box" target="_blank">
        <img id="fifth-footer-image" class="footer-image" src="https://i.imgur.com/waCSGHA.jpeg" alt="Footer Image 5">
    </a>
    <div id="container"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script>
        const container = document.getElementById('container');

        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0xffffff); // Set scene background to white
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        container.appendChild(renderer.domElement);

        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;
        controls.screenSpacePanning = false;
        controls.maxPolarAngle = Math.PI; // Allow full rotation

        const light = new THREE.DirectionalLight(0xffffff, 1);
        light.position.set(5, 5, 5).normalize();
        scene.add(light);

        const loader = new THREE.GLTFLoader();
        loader.load(
            'https://raw.githubusercontent.com/Reoneo/reoneo.github.io/main/scene.gltf',
            function (gltf) {
                const model = gltf.scene;
                scene.add(model);

                // Center the model
                const box = new THREE.Box3().setFromObject(model);
                const size = box.getSize(new THREE.Vector3()).length();
                const center = box.getCenter(new THREE.Vector3());

                model.position.x += (model.position.x - center.x);
                model.position.y += (model.position.y - center.y);
                model.position.z += (model.position.z - center.z);

                camera.near = size / 100;
                camera.far = size * 100;
                camera.position.set(size, size, size);
                camera.lookAt(center);

                // Colors for interpolation
                const colors = [
                    new THREE.Color(0xff0000), // Red
                    new THREE.Color(0x00ff00), // Green
                    new THREE.Color(0x0000ff), // Blue
                    new THREE.Color(0xffff00), // Yellow
                    new THREE.Color(0xff00ff), // Magenta
                    new THREE.Color(0x00ffff)  // Cyan
                ];
                let colorIndex1 = 0;
                let colorIndex2 = 1;
                let nextColorIndex1 = 1;
                let nextColorIndex2 = 2;
                let colorFactor = 0;

                const animate = function () {
                    requestAnimationFrame(animate);

                    // Update the color factor
                    colorFactor += 0.002; // Slow down the color change
                    if (colorFactor >= 1) {
                        colorFactor = 0;
                        colorIndex1 = nextColorIndex1;
                        colorIndex2 = nextColorIndex2;
                        nextColorIndex1 = (nextColorIndex1 + 1) % colors.length;
                        nextColorIndex2 = (nextColorIndex2 + 1) % colors.length;
                    }

                    // Interpolate and apply the colors
                    const currentColor1 = colors[colorIndex1].clone().lerp(colors[nextColorIndex1], colorFactor);
                    const currentColor2 = colors[colorIndex2].clone().lerp(colors[nextColorIndex2], colorFactor);

                    model.traverse(function (child) {
                        if (child.isMesh) {
                            child.material.color.set(currentColor1);
                            // Apply second color to some parts if the model has multiple materials
                            if (Array.isArray(child.material)) {
                                child.material.forEach((material, index) => {
                                    material.color.set(index % 2 === 0 ? currentColor1 : currentColor2);
                                });
                            }
                        }
                    });

                    controls.update();
                    renderer.render(scene, camera);
                };
                animate();
            },
            undefined,
            function (error) {
                console.error(error);
            }
        );

        window.addEventListener('resize', function () {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>